<p align="center">
  <img src="./docs/assets/logo.png" width="600" alt="goforj/collection logo">
</p>

<p align="center">
    Fluent, Laravel-style Collections for Go - with generics, chainable pipelines, and expressive data transforms.
</p>

<p align="center">
    <a href="https://pkg.go.dev/github.com/goforj/collection"><img src="https://pkg.go.dev/badge/github.com/goforj/collection.svg" alt="Go Reference"></a>
    <a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License: MIT"></a>
    <a href="https://github.com/goforj/collection/actions"><img src="https://github.com/goforj/collection/actions/workflows/test.yml/badge.svg" alt="Go Test"></a>
    <a href="https://golang.org"><img src="https://img.shields.io/badge/go-1.21+-blue?logo=go" alt="Go version"></a>
    <img src="https://img.shields.io/github/v/tag/goforj/collection?label=version&sort=semver" alt="Latest tag">
    <a href="https://codecov.io/gh/goforj/collection" ><img src="https://codecov.io/github/goforj/collection/graph/badge.svg?token=3KFTK96U8C"/></a>
    <a href="https://goreportcard.com/report/github.com/goforj/collection"><img src="https://goreportcard.com/badge/github.com/goforj/collection" alt="Go Report Card"></a>
</p>

<p align="center">
  <code>collection</code> brings an expressive, fluent API to Go.  
  Iterate, filter, transform, sort, reduce, group, and debug your data with zero dependencies.  
  Designed to feel natural to Go developers - and luxurious to everyone else.
</p>

# Features

- üîó **Fluent chaining** - pipeline your operations like Laravel Collections
- üß¨ **Fully generic** (`Collection[T]`) - no reflection, no `interface{}`
- ‚ö° **Zero dependencies** - pure Go, fast, lightweight
- üßµ **Minimal allocations** - avoids unnecessary copies; most operations reuse the underlying slice
- üßπ **Map / Filter / Reduce** - clean functional transforms
- üîç **First / Last / Find / Contains** helpers
- üìè **Sort, GroupBy, Chunk**, and more
- üß™ **Safe-by-default** - defensive copies where appropriate
- üìú **Built-in JSON helpers** (`ToJSON()`, `ToPrettyJSON()`)
- üß∞ **Developer-friendly debug helpers** (`Dump()`, `Dd()`, `DumpStr()`, `DdStr()`)
- üß± **Works with any Go type**, including structs, pointers, and deeply nested composites

# üì¶ Installation

```bash
go get github.com/goforj/collection
```

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# collection

```go
import "github.com/goforj/collection"
```

## Index

| Name | Parent | Kind | Source |
|------|--------|-------|--------|
| [CountBy](<#CountBy>) |  | Function | <a href="https://github.com/goforj/collection/blob/main/count_by.go#L23" target="_blank">Source</a> |
| [CountByValue](<#CountByValue>) |  | Function | <a href="https://github.com/goforj/collection/blob/main/count_by.go#L40" target="_blank">Source</a> |
| [type Collection](<#Collection>) |  | Type | <a href="https://github.com/goforj/collection/blob/main/collection.go#L4-L6" target="_blank">Source</a> |
| [MapTo](<#MapTo>) | type Collection | Type Function | <a href="https://github.com/goforj/collection/blob/main/pluck.go#L9" target="_blank">Source</a> |
| [New](<#New>) | type Collection | Type Function | <a href="https://github.com/goforj/collection/blob/main/collection.go#L17" target="_blank">Source</a> |
| [Pluck](<#Pluck>) | type Collection | Type Function | <a href="https://github.com/goforj/collection/blob/main/pluck.go#L22" target="_blank">Source</a> |
| [TakeUntil](<#TakeUntil>) | type Collection | Type Function | <a href="https://github.com/goforj/collection/blob/main/take_until.go#L27" target="_blank">Source</a> |
| [Times](<#Times>) | type Collection | Type Function | <a href="https://github.com/goforj/collection/blob/main/times.go#L9" target="_blank">Source</a> |
| [After](<#Collection[T].After>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/after.go#L10" target="_blank">Source</a> |
| [Any](<#Collection[T].Any>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/any.go#L8" target="_blank">Source</a> |
| [Append](<#Collection[T].Append>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/append.go#L8" target="_blank">Source</a> |
| [Before](<#Collection[T].Before>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/before.go#L5" target="_blank">Source</a> |
| [Chunk](<#Collection[T].Chunk>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/chunk.go#L10" target="_blank">Source</a> |
| [Concat](<#Collection[T].Concat>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/concat.go#L26" target="_blank">Source</a> |
| [Contains](<#Collection[T].Contains>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/contains.go#L9" target="_blank">Source</a> |
| [Count](<#Collection[T].Count>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/count.go#L7" target="_blank">Source</a> |
| [Dd](<#Collection[T].Dd>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/dump.go#L40" target="_blank">Source</a> |
| [DdStr](<#Collection[T].DdStr>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/dump.go#L72" target="_blank">Source</a> |
| [Dump](<#Collection[T].Dump>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/dump.go#L24" target="_blank">Source</a> |
| [DumpStr](<#Collection[T].DumpStr>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/dump.go#L55" target="_blank">Source</a> |
| [Each](<#Collection[T].Each>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/each.go#L5" target="_blank">Source</a> |
| [Filter](<#Collection[T].Filter>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/filter.go#L10" target="_blank">Source</a> |
| [FindWhere](<#Collection[T].FindWhere>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/find_where.go#L25" target="_blank">Source</a> |
| [First](<#Collection[T].First>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/first.go#L18" target="_blank">Source</a> |
| [FirstWhere](<#Collection[T].FirstWhere>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/first_where.go#L23" target="_blank">Source</a> |
| [IsEmpty](<#Collection[T].IsEmpty>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/is_empty.go#L4" target="_blank">Source</a> |
| [Items](<#Collection[T].Items>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/collection.go#L35" target="_blank">Source</a> |
| [Last](<#Collection[T].Last>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/last.go#L18" target="_blank">Source</a> |
| [LastWhere](<#Collection[T].LastWhere>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/last_where.go#L27" target="_blank">Source</a> |
| [Map](<#Collection[T].Map>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/map.go#L11" target="_blank">Source</a> |
| [Merge](<#Collection[T].Merge>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/merge.go#L20" target="_blank">Source</a> |
| [Multiply](<#Collection[T].Multiply>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/multiply.go#L14" target="_blank">Source</a> |
| [Pipe](<#Collection[T].Pipe>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/pipe.go#L18" target="_blank">Source</a> |
| [Pop](<#Collection[T].Pop>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/pop.go#L8" target="_blank">Source</a> |
| [PopN](<#Collection[T].PopN>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/pop.go#L24" target="_blank">Source</a> |
| [Prepend](<#Collection[T].Prepend>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/prepend.go#L8" target="_blank">Source</a> |
| [Push](<#Collection[T].Push>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/append.go#L20" target="_blank">Source</a> |
| [Reduce](<#Collection[T].Reduce>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/reduce.go#L36" target="_blank">Source</a> |
| [Sort](<#Collection[T].Sort>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/sort.go#L12" target="_blank">Source</a> |
| [Take](<#Collection[T].Take>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/take.go#L12" target="_blank">Source</a> |
| [TakeUntilFn](<#Collection[T].TakeUntilFn>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/take_until.go#L10" target="_blank">Source</a> |
| [Tap](<#Collection[T].Tap>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/tap.go#L21" target="_blank">Source</a> |
| [ToJSON](<#Collection[T].ToJSON>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/to_json.go#L38" target="_blank">Source</a> |
| [ToPrettyJSON](<#Collection[T].ToPrettyJSON>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/to_json.go#L82" target="_blank">Source</a> |
| [Transform](<#Collection[T].Transform>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/transform.go#L10" target="_blank">Source</a> |
| [Unique](<#Collection[T].Unique>) | type Collection | Method | <a href="https://github.com/goforj/collection/blob/main/unique.go#L13" target="_blank">Source</a> |
| [type Number](<#Number>) |  | Type | <a href="https://github.com/goforj/collection/blob/main/collection.go#L9-L13" target="_blank">Source</a> |
| [type NumericCollection](<#NumericCollection>) |  | Type | <a href="https://github.com/goforj/collection/blob/main/collection.go#L22-L24" target="_blank">Source</a> |
| [NewNumeric](<#NewNumeric>) | type NumericCollection | Type Function | <a href="https://github.com/goforj/collection/blob/main/collection.go#L28" target="_blank">Source</a> |
| [Avg](<#NumericCollection[T].Avg>) | type NumericCollection | Method | <a href="https://github.com/goforj/collection/blob/main/avg.go#L15" target="_blank">Source</a> |
| [Max](<#NumericCollection[T].Max>) | type NumericCollection | Method | <a href="https://github.com/goforj/collection/blob/main/max.go#L10" target="_blank">Source</a> |
| [Median](<#NumericCollection[T].Median>) | type NumericCollection | Method | <a href="https://github.com/goforj/collection/blob/main/median.go#L14" target="_blank">Source</a> |
| [Min](<#NumericCollection[T].Min>) | type NumericCollection | Method | <a href="https://github.com/goforj/collection/blob/main/min.go#L9" target="_blank">Source</a> |
| [Mode](<#NumericCollection[T].Mode>) | type NumericCollection | Method | <a href="https://github.com/goforj/collection/blob/main/mode.go#L12" target="_blank">Source</a> |
| [Sum](<#NumericCollection[T].Sum>) | type NumericCollection | Method | <a href="https://github.com/goforj/collection/blob/main/sum.go#L15" target="_blank">Source</a> |


<a name="CountBy"></a>
## CountBy


CountBy returns a map of keys extracted by fn to their occurrence counts. K must be comparable. Example:

```go
type User struct {
    Name string
    Role string
}

users := collection.New([]User{
    {Name: "Alice", Role: "admin"},
    {Name: "Bob", Role: "user"},
    {Name: "Charlie", Role: "admin"},
    {Name: "David", Role: "user"},
    {Name: "Eve", Role: "admin"},
    {Name: "Frank", Role: "user"},
    {Name: "Grace", Role: "user"},
    {Name: "Heidi", Role: "user"},
})
counts := CountBy(users, func(u User) string { return u.Role == "admin" })
// map[string]int{"admin": 3, "user": 5}
```



<a name="CountByValue"></a>
## CountByValue


CountByValue returns a map of item values to their occurrence counts. T must be comparable. Example:

```go
counts := CountByValue(collection.New([]string{"a", "b", "a"}))
// counts == map[string]int{"a": 2, "b": 1}
```








<a name="MapTo"></a>
### MapTo


MapTo maps a Collection\[T\] to a Collection\[R\] using fn\(T\) R.

This cannot be a method because methods can't introduce a new type parameter R. Example:

```go
squared := numbers.MapTo(func(n int) int { return n * n })
// squared is a Collection[int] of squared numbers
```



<a name="New"></a>
### New


New wraps a slice in a Collection. A shallow copy is made so that further operations don't mutate the original slice.



<a name="Pluck"></a>
### Pluck


Pluck is an alias for MapTo with a more semantic name when projecting fields. Example:

```go
names := users.Pluck(func(u User) string { return u.Name })
// names is a Collection[string] of user names
```



<a name="TakeUntil"></a>
### TakeUntil


TakeUntil returns items until the first element equals \`value\`. The matching item is NOT included.

Uses == comparison, so T must be comparable.



<a name="Times"></a>
### Times


Times creates a new collection by running fn\(n\) for i from 1..count. This mirrors Laravel's Collection::times\(\), which is 1\-indexed.

Example:

```go
c := collection.Times(5, func(i int) int { return i * 2 })
// [2,4,6,8,10]
```





<a name="Collection[T].After"></a>
### After


After returns all items after the first element for which pred returns true. If no element matches, an empty collection is returned.

Example:

```go
c := collection.New([]int{1,2,3,4,5})
c.After(func(v int) bool { return v == 3 })
// [4,5]
```



<a name="Collection[T].Any"></a>
### Any


Any returns true if at least one item satisfies fn. Example: c := collection.New\(\[\]int\{1, 2, 3, 4\}\) hasEven := c.Any\(func\(v int\) bool \{ return v%2 == 0 \}\) // true // hasEven is true



<a name="Collection[T].Append"></a>
### Append


Append returns a new collection with the given values appended. Example:

```go
c := collection.New([]int{1, 2})
newC := c.Append(3, 4) // Collection with items [1, 2, 3, 4]
// newC.Items() == []int{1, 2, 3, 4}
```



<a name="Collection[T].Before"></a>
### Before


Before returns all items before the first element for which pred returns true. If no element matches, the entire collection is returned.



<a name="Collection[T].Chunk"></a>
### Chunk


Chunk splits the collection into chunks of the given size. The final chunk may be smaller if len\(items\) is not divisible by size.

If size \<= 0, nil is returned. Example:

```go
c := collection.New([]int{1,2,3,4,5})
chunks := c.Chunk(2) ‚Üí [[1,2],[3,4],[5]]
```



<a name="Collection[T].Concat"></a>
### Concat


Concat appends the values from the given slice onto the end of the collection, returning a new collection. The original collection is never modified.

This mirrors Laravel's concat\(\): the appended values are numerically reindexed in the resulting collection, regardless of their original keys or positions.

Example:

```go
c := collection.New([]string{"John Doe"})

    concatenated := c.
        Concat([]string{"Jane Doe"}).
        Concat([]string{"Johnny Doe"}).
		Items()

    // ["John Doe", "Jane Doe", "Johnny Doe"]
```

Notes:

- Concat never mutates the original collection.
- Keys/indices from the appended slice are ignored; values are simply appended.
- To concatenate another Collection\[T\], use: c.Concat\(other.Items\(\)\)



<a name="Collection[T].Contains"></a>
### Contains


Contains returns true if any item satisfies the predicate. Example:

```go
c := collection.New([]int{1, 2, 3, 4})
hasEven := c.Contains(func(v int) bool { return v%2 == 0 }) // true
```

// hasEven is true



<a name="Collection[T].Count"></a>
### Count


Count returns the total number of items in the collection. Example:

```go
c := collection.New([]int{1, 2, 3, 4})
count := c.Count() // 4
```



<a name="Collection[T].Dd"></a>
### Dd


Dd prints items then terminates execution.

Example:

```go
c := collection.New([]string{"a", "b"})
c.Dd()    // Prints the dump and exits the program
```

Like Laravel's dd\(\), this is intended for debugging and should not be used in production control flow.

This method never returns.



<a name="Collection[T].DdStr"></a>
### DdStr


DdStr behaves like Dd\(\) but also returns the formatted dump string.

Because Dd\(\) exits immediately, DdStr is helpful primarily in tests where exit behavior has been overridden.

Example \(non\-fatal debug\):

```go
c := collection.New([]int{1})
s := c.DdStr()
// Prints the formatted dump, triggers exitFunc, and returns the output.
```

The return value is mostly useful in testing environments where exitFunc has been replaced with a non\-terminating stub.



<a name="Collection[T].Dump"></a>
### Dump


Dump prints items with godump and returns the same collection.

Example:

```go
c := collection.New([]int{1, 2, 3})
out := c.Dump()
// Prints a pretty debug dump of [1, 2, 3]
// out == c
```

Dump is typically used while chaining:

```go
collection.New([]int{1, 2, 3}).
    Filter(func(v int) bool { return v > 1 }).
    Dump()
```

This is a no\-op on the collection itself and never panics.



<a name="Collection[T].DumpStr"></a>
### DumpStr


DumpStr returns the pretty\-printed dump of the items as a string, without printing or exiting.

Example:

```go
c := collection.New([]int{10, 20})
s := c.DumpStr()
fmt.Println(s)
// Produces a multi-line formatted representation of [10, 20]
```

Useful for logging, snapshot testing, and non\-interactive debugging.



<a name="Collection[T].Each"></a>
### Each


Each runs fn for every item in the collection and returns the same collection, so it can be used in chains for side effects \(logging, debugging, etc.\).



<a name="Collection[T].Filter"></a>
### Filter


Filter keeps only the elements for which fn returns true. This method mutates the collection in place and returns the same instance.

Example:

```go
c := New([]int{1,2,3,4})
c.Filter(func(v int) bool { return v%2 == 0 })
// c.items == []int{2,4}
```



<a name="Collection[T].FindWhere"></a>
### FindWhere


FindWhere returns the first item in the collection for which the provided predicate function returns true. This method is an alias for FirstWhere\(fn\) and is provided for ergonomic parity with functional libraries and languages such as JavaScript, Rust, C\#, and Python.

FindWhere improves discoverability for developers who naturally search for a "find" helper when retrieving an element that matches a condition.

Examples:

```go
nums := New([]int{1, 2, 3, 4, 5})

v, ok := nums.FindWhere(func(n int) bool {
    return n == 3
})
// v = 3, ok = true

v, ok = nums.FindWhere(func(n int) bool {
    return n > 10
})
// v = 0, ok = false
```



<a name="Collection[T].First"></a>
### First


First returns the first element in the collection. If the collection is empty, ok will be false.

Example:

```go
c := New([]int{1, 2, 3, 4})
v, ok := c.First()
// v == 1, ok == true
```

Example \(empty\):

```go
c := New([]int{})
v, ok := c.First()
// v == 0, ok == false
```



<a name="Collection[T].FirstWhere"></a>
### FirstWhere


FirstWhere returns the first item in the collection for which the provided predicate function returns true. If no items match, ok=false is returned along with the zero value of T.

This method is equivalent to Laravel's collection\-\>first\(fn\) and mirrors the behavior found in functional collections in other languages.

Examples:

```go
nums := New([]int{1, 2, 3, 4, 5})
v, ok := nums.FirstWhere(func(n int) bool {
    return n%2 == 0
})
// v = 2, ok = true

v, ok = nums.FirstWhere(func(n int) bool {
    return n > 10
})
// v = 0, ok = false
```



<a name="Collection[T].IsEmpty"></a>
### IsEmpty


IsEmpty returns true if the collection has no items.



<a name="Collection[T].Items"></a>
### Items


Items returns the underlying slice of items.



<a name="Collection[T].Last"></a>
### Last


Last returns the last element in the collection. If the collection is empty, ok will be false.

Example:

```go
c := collection.New([]int{1, 2, 3, 4})
v, ok := c.Last()
// v == 4, ok == true
```

Example \(empty\):

```go
c := collection.New([]int{})
v, ok := c.Last()
// v == 0, ok == false
```



<a name="Collection[T].LastWhere"></a>
### LastWhere


LastWhere returns the last element in the collection that satisfies the predicate fn. If fn is nil, LastWhere returns the final element in the underlying slice. If the collection is empty or no element matches, ok will be false.

Example: LastWhere with predicate

```go
c := collection.New([]int{1, 2, 3, 4})
v, ok := c.LastWhere(func(v int, i int) bool {
    return v < 3
})
// v == 2, ok == true
```

Example: LastWhere without predicate

```go
c := collection.New([]int{1, 2, 3, 4})
v, ok := c.LastWhere(nil)
// v == 4, ok == true
```

Example: Empty collection

```go
c := collection.New([]int{})
v, ok := c.LastWhere(nil)
// v == 0, ok == false
```



<a name="Collection[T].Map"></a>
### Map


Map applies a same\-type transformation and returns a new collection.

Use this when you're transforming T \-\> T \(e.g., enrichment, normalization\). Example usage:

```go
c := collection.New([]int{1, 2, 3})
	mapped := c.Map(func(v int) int { return v * 10 }) // [10, 20, 30]
 // expected := []int{10, 20, 30}
```



<a name="Collection[T].Merge"></a>
### Merge


Merge merges the given data into the current collection using Laravel\-style semantics.

Behavior depends on the type of \`other\`:

- \[\]T \(numeric merges\) Values are appended to the end of the collection.
- Collection\[T\] Values are appended, same as merging a slice.
- map\[string\]T \(associative merges\) Keys that already exist overwrite the original values; new keys are added.

Unsupported merge types are ignored. This method never panics and always returns a new Collection.



<a name="Collection[T].Multiply"></a>
### Multiply


Multiply creates \`n\` copies of all items in the collection and returns a new collection.

Example:

```go
users := New([]User{{Name: "A"}, {Name: "B"}})
out := users.Multiply(3)
```

Resulting items:

```go
[A, B, A, B, A, B]
```

If n \<= 0, the method returns an empty collection.



<a name="Collection[T].Pipe"></a>
### Pipe


Pipe passes the entire collection into the given function and returns the function's result.

This is useful for inline transformations, aggregations, or "exiting" a chain with a non\-collection value.

Example:

```go
c := New([]int{1, 2, 3})
sum := c.Pipe(func(col Collection[int]) any {
    return col.Sum()
})

// sum == 6
```



<a name="Collection[T].Pop"></a>
### Pop


Pop returns the last item and a new collection with that item removed. The original collection remains unchanged.

If the collection is empty, the zero value of T is returned along with an empty collection.



<a name="Collection[T].PopN"></a>
### PopN


PopN removes and returns the last n items as a new collection, and returns a second collection containing the remaining items.



<a name="Collection[T].Prepend"></a>
### Prepend


Prepend returns a new collection with the given values prepended. Example:

```go
c := collection.New([]int{3, 4})
newC := c.Prepend(1, 2) // Collection with items [1, 2, 3, 4]
// newC.Items() == []int{1, 2, 3, 4}
```



<a name="Collection[T].Push"></a>
### Push


Push returns a new collection with the given values appended. Example:

```go
c := collection.New([]int{1, 2})
newC := c.Push(3, 4) // Collection with items [1, 2, 3, 4]
// newC.Items() == []int{1, 2, 3, 4}
```



<a name="Collection[T].Reduce"></a>
### Reduce


Reduce collapses the collection into a single value of type T. The accumulator has the same type as the elements.

Example:

```go
sum := collection.New([]int{1, 2, 3}).Reduce(0, func(acc, n int) int {
	return acc + n
})
// 6

joined := collection.New([]string{"a", "b", "c"}).Reduce("", func(acc, s string) string {
	return acc + s
})
// "abc"
```

```go
type Stats struct {
    Count int
    Sum   int
}
```

```go
c := collection.New([]Stats{
    {Count: 1, Sum: 10},
    {Count: 1, Sum: 20},
    {Count: 1, Sum: 30},
})
```

```go
total := c.Reduce(Stats{}, func(acc, s Stats) Stats {
    acc.Count += s.Count
    acc.Sum += s.Sum
    return acc
})
```

// Stats\{Count: 3, Sum: 60\}



<a name="Collection[T].Sort"></a>
### Sort


Sort returns a new collection sorted using the given comparison function.

less should return true if a should come before b.

Example:

```go
sorted := users.Sort(func(a, b User) bool { return a.Age < b.Age })
// sorted by Age ascending
```



<a name="Collection[T].Take"></a>
### Take


Take returns a new collection containing the first \`n\` items when n \> 0, or the last \`|n|\` items when n \< 0. If n exceeds the collection length, the entire slice \(or nothing\) is returned.

Mirrors Laravel's take\(\) semantics.

Examples:

```go
New([]int{0,1,2,3,4,5}).Take(3)  ‚Üí [0,1,2]
New([]int{0,1,2,3,4,5}).Take(-2) ‚Üí [4,5]
```



<a name="Collection[T].TakeUntilFn"></a>
### TakeUntilFn


TakeUntilFn returns items until the predicate function returns true. The matching item is NOT included. Example:

```go
c := collection.New([]int{1, 2, 3, 4})
out := c.TakeUntilFn(func(v int) bool { return v >= 3 }) // [1, 2]
```

// result is \[1, 2\]



<a name="Collection[T].Tap"></a>
### Tap


Tap invokes fn with the collection pointer for side effects \(logging, debugging, inspection\) and returns the same collection to allow chaining.

Tap does NOT modify the collection itself; it simply exposes the current state during a fluent chain.

Example:

```go
captured := []int{}
c := New([]int{3,1,2}).
    Sort(func(a,b int) bool { return a < b }).  // ‚Üí [1,2,3]
    Tap(func(col *Collection[int]) {
        captured = append([]int(nil), col.items...) // snapshot
    }).
    Filter(func(v int) bool { return v >= 2 })     // ‚Üí [2,3]
```

After Tap, 'captured' contains the sorted state: \[\]int\{1,2,3\} and the chain continues unaffected.



<a name="Collection[T].ToJSON"></a>
### ToJSON


ToJSON converts the collection's items into a compact JSON string.

If marshalling succeeds, a JSON\-encoded string and a nil error are returned. If marshalling fails, the method unwraps any json.Marshal wrapping so that user\-defined MarshalJSON errors surface directly.

This method never panics.

Example:

```go
c := collection.New([]int{1, 2, 3})
out, err := c.ToJSON()
// out: "[1,2,3]"
// err: nil
```

Example \(error\):

```go
type Bad struct{}
func (Bad) MarshalJSON() ([]byte, error) {
    return nil, fmt.Errorf("marshal failure")
}

c := collection.New([]Bad{{}})
out, err := c.ToJSON()
// out: ""
// err.Error(): "marshal failure"
```

Returns:

- string: the JSON\-encoded representation of the collection
- error : nil on success, or the unwrapped marshalling error



<a name="Collection[T].ToPrettyJSON"></a>
### ToPrettyJSON


ToPrettyJSON converts the collection's items into an indented, human\-readable JSON string.

If marshalling succeeds, a formatted JSON string and nil error are returned. If marshalling fails, the underlying error is unwrapped so that user\-defined MarshalJSON failures surface directly \(e.g., "marshal failure"\) rather than the json.MarshalIndent wrapper.

This method never panics.

Example:

```go
c := collection.New([]string{"a", "b"})
out, err := c.ToPrettyJSON()
// out:
// [
//   "a",
//   "b"
// ]
// err: nil
```

Example \(error\):

```go
type Bad struct{}
func (Bad) MarshalJSON() ([]byte, error) {
    return nil, fmt.Errorf("marshal failure")
}

c := collection.New([]Bad{{}})
out, err := c.ToPrettyJSON()
// out: ""
// err.Error(): "marshal failure"
```

Returns:

- string: the pretty\-printed JSON representation
- error : nil on success, or the unwrapped marshalling error



<a name="Collection[T].Transform"></a>
### Transform


Transform applies fn to every item \*in place\* and replaces the values with the returned values. This matches Laravel's transform\(\), which mutates the collection instead of returning a new one. Example:

```go
c := collection.New([]int{1,2,3})
c.Transform(func(v int) int { return v * 2 })
// c is now [2,4,6]
```



<a name="Collection[T].Unique"></a>
### Unique


Unique returns a collection with duplicate items \(according to eq\) removed, preserving the first occurrence of each unique value.

eq should return true if the two values are considered equal. Example usage:

```go
c := collection.New([]int{1, 2, 2, 3, 4, 4, 5})
unique := c.Unique(func(a, b int) bool { return a == b })

// result: [1, 2, 3, 4, 5]
```

















<a name="NewNumeric"></a>
### NewNumeric


NewNumeric wraps a slice of numeric types in a NumericCollection. A shallow copy is made so that further operations don't mutate the original slice.





<a name="NumericCollection[T].Avg"></a>
### Avg


Avg returns the average of the collection values as a float64. If the collection is empty, Avg returns 0.

Example:

```go
c := collection.New([]int{2, 4, 6})
avg := c.Avg()
// avg == 4
```

Example \(float collection\):

```go
c := collection.New([]float64{1.5, 2.5, 3.0})
avg := c.Avg()
// avg == 2.3333333
```



<a name="NumericCollection[T].Max"></a>
### Max


Max returns the largest numeric item in the collection. The second return value is false if the collection is empty.

Example: c := collection.NewNumeric\(\[\]int\{3, 1, 2\}\) max, ok := c.Max\(\) // ‚Üí 3, true



<a name="NumericCollection[T].Median"></a>
### Median


Median returns the statistical median of the numeric collection as float64. Returns \(0, false\) if the collection is empty.

Odd count ‚Üí middle value Even count ‚Üí average of the two middle values

Example:

```go
c := collection.NewNumeric([]int{3, 1, 2})
median, ok := c.Median()   // ‚Üí 2, true
```



<a name="NumericCollection[T].Min"></a>
### Min


Min returns the smallest numeric item in the collection. The second return value is false if the collection is empty.

Example:

```go
c := collection.NewNumeric([]int{3, 1, 2})
min, ok := c.Min()  // ‚Üí 1, true
```



<a name="NumericCollection[T].Mode"></a>
### Mode


Mode returns the most frequent numeric value\(s\) in the collection. If multiple values tie for highest frequency, all are returned in first\-seen order.

Example:

```go
collection.NewNumeric([]int{1, 2, 2, 3}).Mode() // ‚Üí []int{2}
```

Example \(tie\):

```go
collection.NewNumeric([]int{1, 2, 1, 2}).Mode() // ‚Üí []int{1, 2}
```



<a name="NumericCollection[T].Sum"></a>
### Sum


Sum returns the sum of all numeric items in the NumericCollection. If the collection is empty, Sum returns the zero value of T.

Example:

```go
c := collection.NewNumeric([]int{1, 2, 3})
total := c.Sum()
// total == 6
```

Example \(float\):

```go
c := collection.NewNumeric([]float64{1.5, 2.5})
total := c.Sum()
// total == 4.0
```




Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->